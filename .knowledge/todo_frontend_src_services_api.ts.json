{"is_source_file": true, "format": "TypeScript", "description": "This file defines the API interaction layer for a to-do list application, including type definitions for Task and error handling, utility functions for URL building and safe JSON parsing, and a set of exported methods for listing, creating, updating, and deleting tasks via HTTP requests.", "external_files": ["../config"], "external_methods": ["getApiBaseUrl"], "published": ["tasksApi", "Task", "ApiError"], "classes": [{"name": "ApiError", "description": "Custom error class to represent API related errors, including HTTP status and additional error details."}], "methods": [{"name": "function buildUrl(path: string): string { buildUrl", "description": "Constructs a full URL by appending the given path to the base API URL obtained from configuration.", "scope": "", "scopeKind": ""}, {"name": "async function parseJsonSafely(res: Response): Promise<unknown> { parseJsonSafely", "description": "Safely parses the response text as JSON; returns null or raw text if parsing fails.", "scope": "", "scopeKind": ""}, {"name": "async function request<T>(path: string, options?: RequestInit): Promise<T> { request", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "JSON.parse", "getApiBaseUrl"], "search-terms": ["tasksApi", "API request methods", "TypeScript", "to-do list", "API error handling", "buildUrl"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^class ApiError extends Error {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "ApiErrorDetails", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^type ApiErrorDetails = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^export type Task = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^  const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "buildUrl", "scopeKind": "function"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^    const body = await parseJsonSafely(res);$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^function buildUrl(path: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "cleanPath", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^  const cleanPath = path.startsWith(\"\\/\") ? path : `\\/${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "buildUrl", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^  const data = (await parseJsonSafely(res)) as T;$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^  async list(): Promise<Task[]> {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "parseJsonSafely", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^async function parseJsonSafely(res: Response): Promise<unknown> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^async function request<T>(path: string, options?: RequestInit): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "tasksApi", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^export const tasksApi = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^  const text = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "parseJsonSafely", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-210410-210419/todo_frontend/src/services/api.ts", "pattern": "/^  const url = buildUrl(path);$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}], "hash": "9c5679bcbfa5055bfe27e5db94cf7fc0", "format-version": 4, "code-base-name": "todo_frontend", "filename": "todo_frontend/src/services/api.ts", "revision_history": [{"29": ""}]}